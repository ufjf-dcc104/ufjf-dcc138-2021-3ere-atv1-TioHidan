<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DCC138 exemplo 01</title>
</head>
<body>
    <h1>DCC138 exemplo 01</h1>
    <canvas></canvas>
    <p>Por Victor Torres</p>
    <script>
        let canvas = document.querySelector("canvas");
        
        let ctx = canvas.getContext("2d");
        
         canvas.width = 480;
         canvas.height = 320;
         
         let x =150;
         let y = 100;
         let a = 0;
         let t0;
         let dt; 
         requestAnimationFrame(desenha);
         
         function desenha(t){

        if(t0===undefined) t0 = t;
        dt = (t - t0)/2000;
        //desenha fundo
         
        ctx.fillStyle = "black";
         ctx.fillRect(0,0,  canvas.width,canvas.height);
        
        //Atualiza estado
        x = x + 100*dt;
        a = a +2*Math.PI*dt;
        y = 150 + 100*Math.sin(a);
         //desenha elementos
         
         ctx.fillStyle = "Red";
         ctx.fillRect(x,y,  20,20);
         
         //chama a função desenha infinitas vezes
         requestAnimationFrame(desenha);
         t0 = t;
         }
        

    </script>
    
</body>
</html>